!function(e,t){if("function"==typeof define&&define.amd)define("vxe-table-plugin-renderer",["exports","xe-utils"],t);else if("undefined"!=typeof exports)t(exports,require("xe-utils"));else{var n={exports:{}};t(n.exports,e.XEUtils),e.VXETablePluginRenderer=n.exports.default}}(this,function(e,u){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.VXETablePluginRenderer=void 0,u=(t=u)&&t.__esModule?t:{default:t};var p=document.createElement("span");function x(e,n){var t=e.events,a=n.$table,r=n.column.model,o={input:function(e){var t=e.target.value;r.update=!0,r.value=t,a.updateStatus(n,t)}};return t&&u.default.assign(o,u.default.objectMap(t,function(e){return function(){e.apply(null,[n].concat.apply(n,arguments))}})),o}p.className="x-textarea--resize",p.style.visibility="hidden",p.style.zIndex="-1",p.style.position="absolute";var n={XInput:{autofocus:".x-input",renderEdit:function(e,t,n){var a=t.props,r=void 0===a?{}:a,o=t.attrs,i=t.events,l=void 0===i?{}:i,s=n.column,u=s.model,c=r.prefixIcon,d=r.suffixIcon,f=l.prefixClick,p=l.suffixClick;return[e("div",{class:["x-input--wrapper",{"is--prefix":r.prefixIcon,"is--suffix":r.suffixIcon}],style:{height:"".concat(s.renderHeight-1,"px")}},[c?e("i",{class:["x-input--prefix",c,{"is--trigger":f}],on:f?{click:function(e){return f(n,e)}}:null}):null,e("input",{class:"x-input",attrs:o,domProps:{value:u.value},on:x(t,n)}),d?e("i",{class:["x-input--suffix",d,{"is--trigger":p}],on:p?{click:function(e){return p(n,e)}}:null}):null])]}},XTextarea:{autofocus:".x-textarea",renderEdit:function(e,t,n){function o(e){setTimeout(function(){return function(e,t,n){var a=t.props,r=void 0===a?{}:a,o=n.$table,i=n.column,l=i.renderWidth,s=i.renderHeight,u=e.target,c=r.maxWidth||600,d=r.maxHeight||400;p.textContent="".concat(u.value,"\n"),p.style.maxWidth="".concat(c,"px"),p.parentNode||o.$el.appendChild(p);var f=Math.min(d,p.offsetHeight+4);u.style.width="".concat(Math.min(c,Math.max(l,p.offsetWidth+20)),"px"),u.style.height="".concat(f<s?s:f,"px"),u.style.overflowY=c<f?"auto":""}(e,t,n)},0),r&&r[e.type]&&r[e.type](n,e)}var a=t.attrs,r=t.events,i=n.$table,l=n.column,s=l.model;return[e("div",{class:"x-textarea--wrapper",style:{height:"".concat(l.renderHeight-1,"px")}},[e("textarea",{class:"x-textarea",attrs:a,domProps:{value:s.value},on:u.default.assign(x(t,n),{cut:o,paste:o,drop:o,focus:o,keydown:function(e){if(13!==e.keyCode||i.keyboardConfig&&!e.altKey)o(e);else{e.preventDefault(),e.stopPropagation();var t=e.target,n=function(e){var t={text:"",start:0,end:0};if(e.setSelectionRange)t.start=e.selectionStart,t.end=e.selectionEnd,t.text=t.start!==t.end?e.value.substring(t.start,t.end):"";else if(document.selection){var n=0,a=document.selection.createRange(),r=document.body.createTextRange();for(r.moveToElementText(e),t.text=a.text,t.bookmark=a.getBookmark();r.compareEndPoints("StartToStart",a)<0&&0!==a.moveStart("character",-1);n++)"\n"===e.value.charAt(n)&&n++;t.start=n,t.end=t.text.length+t.start}return t}(t),a=n.end,r=t.value;r="".concat(r.slice(0,a),"\n").concat(r.slice(a,r.length)),t.value=r,s.update=!0,s.value=r,setTimeout(function(){n.start=n.end=++a,function(e,t){if(e.setSelectionRange)e.focus(),e.setSelectionRange(t.start,t.end);else if(e.createTextRange){var n=e.createTextRange();e.value.length===t.start?n.collapse(!1):n.moveToBookmark(t.bookmark),n.select()}}(t,n),o(e)})}},compositionstart:o,compositionupdate:o,compositionend:o})})])]},renderCell:function(e,t,n){var a=n.row,r=n.column;return[e("span",{class:"x-textarea--content"},u.default.get(a,r.property))]}}},a={install:function(e){e.renderer.mixin(n)}};e.VXETablePluginRenderer=a,"undefined"!=typeof window&&window.VXETable&&window.VXETable.use(a);var r=a;e.default=r});
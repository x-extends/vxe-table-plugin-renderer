!function(e,t){if("function"==typeof define&&define.amd)define("vxe-table-plugin-renderer",[],t);else if("undefined"!=typeof exports)t();else{t(),e.VXETablePluginRenderer={}.default}}(this,function(){"use strict";exports.__esModule=!0;var f,s=require("xe-utils");function x(e,n){var t=e.events,i=n.$table,r=n.column.model,a={input:function(e){var t=e.target.value;r.update=!0,r.value=t,i.updateStatus(n,t)}};return t&&s.default.assign(a,s.default.objectMap(t,function(e){return function(){e.apply(null,[n].concat.apply(n,arguments))}})),a}"undefined"!=typeof document&&((f=document.createElement("span")).className="x-textarea--resize",f.style.visibility="hidden",f.style.zIndex="-1",f.style.position="absolute");var t={XInput:{autofocus:".x-input",renderEdit:function(e,t,n){var i=t.props,r=void 0===i?{}:i,a=t.attrs,o=t.events,u=void 0===o?{}:o,l=n.column,s=l.model,d=r.prefixIcon,c=r.suffixIcon,p=u.prefixClick,f=u.suffixClick;return[e("div",{class:["x-input--wrapper",{"is--prefix":r.prefixIcon,"is--suffix":r.suffixIcon}],style:{height:l.renderHeight-1+"px"}},[d?e("i",{class:["x-input--prefix",d,{"is--trigger":p}],on:p?{click:function(e){return p(n,e)}}:null}):null,e("input",{class:"x-input",attrs:a,domProps:{value:s.value},on:x(t,n)}),c?e("i",{class:["x-input--suffix",c,{"is--trigger":f}],on:f?{click:function(e){return f(n,e)}}:null}):null])]}},XTextarea:{autofocus:".x-textarea",renderEdit:function(e,t,n){function a(e){setTimeout(function(){return function(e,t,n){var i=t.props,r=void 0===i?{}:i,a=n.$table,o=n.column,u=o.renderWidth,l=o.renderHeight,s=e.target,d=r.maxWidth||600,c=r.maxHeight||400;f.textContent=s.value+"\n",f.style.maxWidth=d+"px",f.parentNode||a.$el.appendChild(f);var p=Math.min(c,f.offsetHeight+4);s.style.width=Math.min(d,Math.max(u,f.offsetWidth+20))+"px",s.style.height=(p<l?l:p)+"px",s.style.overflowY=d<p?"auto":""}(e,t,n)},0),r&&r[e.type]&&r[e.type](n,e)}var i=t.attrs,r=t.events,o=n.$table,u=n.column,l=u.model;return[e("div",{class:"x-textarea--wrapper",style:{height:u.renderHeight-1+"px"}},[e("textarea",{class:"x-textarea",attrs:i,domProps:{value:l.value},on:s.default.assign(x(t,n),{cut:a,paste:a,drop:a,focus:a,keydown:function(e){if(13!==e.keyCode||o.keyboardConfig&&!e.altKey)a(e);else{e.preventDefault(),e.stopPropagation();var t=e.target,n=function(e){var t={text:"",start:0,end:0};return e.setSelectionRange&&(t.start=e.selectionStart,t.end=e.selectionEnd),t}(t),i=n.end,r=t.value;r=r.slice(0,i)+"\n"+r.slice(i,r.length),t.value=r,l.update=!0,l.value=r,setTimeout(function(){n.start=n.end=++i,function(e,t){e.setSelectionRange&&(e.focus(),e.setSelectionRange(t.start,t.end))}(t,n),a(e)})}},compositionstart:a,compositionupdate:a,compositionend:a})})])]},renderCell:function(e,t,n){var i=n.row,r=n.column;return[e("span",{class:"x-textarea--content"},s.default.get(i,r.property))]}}};exports.VXETablePluginRenderer={install:function(e){e.renderer.mixin(t)}},"undefined"!=typeof window&&window.VXETable&&window.VXETable.use(exports.VXETablePluginRenderer),exports.default=exports.VXETablePluginRenderer});